using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Text.Json;
using System.Threading.Tasks;
using FluentAssertions;
using NUnit.Framework;
using WeatherAPI.DTOs;
using WeatherAPI.Services;

namespace WeatherAPI.Tests.ServicesTests
{
    public class GetHourlyTemperatureServiceTest
    {
        private WeatherService _weatherService;

        [SetUp]
        public void Setup()
        {
            _weatherService = new WeatherService();
        }

        [Test]
        public void Get_Hourly_Temperature_By_Latitude_And_Longitude()
        {
            var result = _weatherService.GetHourlyTemperatureByLatitudeAndLongitude(51.5,-0.1262).Result;
            result.Should().BeOfType(typeof(GetHourlyTemperatureResponseDTO));
        }

        [Test]
        public void Get_Hourly_Temperature_By_CityName()
        {
            var result = _weatherService.GetHourlyTemperatureByCity("London").Result;
            result.Should().BeOfType(typeof(GetHourlyTemperatureResponseDTO));
        }
    }
}
/*string expectedResultJson = @"{
                                          ""latitude"": 51.5,
                                          ""longitude"": -0.120000124,
                                          ""generationtime_ms"": 0.32889842987060547,
                                          ""utc_offset_seconds"": 0,
                                          ""timezone"": ""GMT"",
                                          ""timezone_abbreviation"": ""GMT"",
                                          ""elevation"": 6.0,
                                          ""hourly_units"": {
                                            ""time"": ""iso8601"",
                                            ""temperature_2m"": ""°C""
                                          },
                                          ""hourly"": {
                                            ""time"": [
                                              ""2022-10-22T00:00"",""2022-10-22T01:00"",""2022-10-22T02:00"",""2022-10-22T03:00"",""2022-10-22T04:00"",""2022-10-22T05:00"",""2022-10-22T06:00"",""2022-10-22T07:00"",""2022-10-22T08:00"",""2022-10-22T09:00"",""2022-10-22T10:00"",""2022-10-22T11:00"",""2022-10-22T12:00"",""2022-10-22T13:00"",""2022-10-22T14:00"",""2022-10-22T15:00"",""2022-10-22T16:00"",""2022-10-22T17:00"",""2022-10-22T18:00"",""2022-10-22T19:00"",""2022-10-22T20:00"",""2022-10-22T21:00"",""2022-10-22T22:00"",""2022-10-22T23:00"",
                                              ""2022-10-23T00:00"",""2022-10-23T01:00"",""2022-10-23T02:00"",""2022-10-23T03:00"",""2022-10-23T04:00"",""2022-10-23T05:00"",""2022-10-23T06:00"",""2022-10-23T07:00"",""2022-10-23T08:00"",""2022-10-23T09:00"",""2022-10-23T10:00"",""2022-10-23T11:00"",""2022-10-23T12:00"",""2022-10-23T13:00"",""2022-10-23T14:00"",""2022-10-23T15:00"",""2022-10-23T16:00"",""2022-10-23T17:00"",""2022-10-23T18:00"",""2022-10-23T19:00"",""2022-10-23T20:00"",""2022-10-23T21:00"",""2022-10-23T22:00"",""2022-10-23T23:00"",
                                              ""2022-10-24T00:00"",""2022-10-24T01:00"",""2022-10-24T02:00"",""2022-10-24T03:00"",""2022-10-24T04:00"",""2022-10-24T05:00"",""2022-10-24T06:00"",""2022-10-24T07:00"",""2022-10-24T08:00"",""2022-10-24T09:00"",""2022-10-24T10:00"",""2022-10-24T11:00"",""2022-10-24T12:00"",""2022-10-24T13:00"",""2022-10-24T14:00"",""2022-10-24T15:00"",""2022-10-24T16:00"",""2022-10-24T17:00"",""2022-10-24T18:00"",""2022-10-24T19:00"",""2022-10-24T20:00"",""2022-10-24T21:00"",""2022-10-24T22:00"",""2022-10-24T23:00"",
                                              ""2022-10-25T00:00"",""2022-10-25T01:00"",""2022-10-25T02:00"",""2022-10-25T03:00"",""2022-10-25T04:00"",""2022-10-25T05:00"",""2022-10-25T06:00"",""2022-10-25T07:00"",""2022-10-25T08:00"",""2022-10-25T09:00"",""2022-10-25T10:00"",""2022-10-25T11:00"",""2022-10-25T12:00"",""2022-10-25T13:00"",""2022-10-25T14:00"",""2022-10-25T15:00"",""2022-10-25T16:00"",""2022-10-25T17:00"",""2022-10-25T18:00"",""2022-10-25T19:00"",""2022-10-25T20:00"",""2022-10-25T21:00"",""2022-10-25T22:00"",""2022-10-25T23:00"",
                                              ""2022-10-26T00:00"",""2022-10-26T01:00"",""2022-10-26T02:00"",""2022-10-26T03:00"",""2022-10-26T04:00"",""2022-10-26T05:00"",""2022-10-26T06:00"",""2022-10-26T07:00"",""2022-10-26T08:00"",""2022-10-26T09:00"",""2022-10-26T10:00"",""2022-10-26T11:00"",""2022-10-26T12:00"",""2022-10-26T13:00"",""2022-10-26T14:00"",""2022-10-26T15:00"",""2022-10-26T16:00"",""2022-10-26T17:00"",""2022-10-26T18:00"",""2022-10-26T19:00"",""2022-10-26T20:00"",""2022-10-26T21:00"",""2022-10-26T22:00"",""2022-10-26T23:00"",
                                              ""2022-10-27T00:00"",""2022-10-27T01:00"",""2022-10-27T02:00"",""2022-10-27T03:00"",""2022-10-27T04:00"",""2022-10-27T05:00"",""2022-10-27T06:00"",""2022-10-27T07:00"",""2022-10-27T08:00"",""2022-10-27T09:00"",""2022-10-27T10:00"",""2022-10-27T11:00"",""2022-10-27T12:00"",""2022-10-27T13:00"",""2022-10-27T14:00"",""2022-10-27T15:00"",""2022-10-27T16:00"",""2022-10-27T17:00"",""2022-10-27T18:00"",""2022-10-27T19:00"",""2022-10-27T20:00"",""2022-10-27T21:00"",""2022-10-27T22:00"",""2022-10-27T23:00"",
                                              ""2022-10-28T00:00"",""2022-10-28T01:00"",""2022-10-28T02:00"",""2022-10-28T03:00"",""2022-10-28T04:00"",""2022-10-28T05:00"",""2022-10-28T06:00"",""2022-10-28T07:00"",""2022-10-28T08:00"",""2022-10-28T09:00"",""2022-10-28T10:00"",""2022-10-28T11:00"",""2022-10-28T12:00"",""2022-10-28T13:00"",""2022-10-28T14:00"",""2022-10-28T15:00"",""2022-10-28T16:00"",""2022-10-28T17:00"",""2022-10-28T18:00"",""2022-10-28T19:00"",""2022-10-28T20:00"",""2022-10-28T21:00"",""2022-10-28T22:00"",""2022-10-28T23:00""
                                            ],
                                            ""temperature_2m"": [
                                              15.4,15.0,14.8,14.6,14.4,13.9,13.0,12.5,13.1,14.5,15.7,16.7,17.5,17.8,16.9,17.1,16.7,15.8,15.1,14.6,14.5,14.6,14.8,14.7,
                                              14.5,14.4,14.4,14.5,14.5,14.6,14.9,14.9,14.8,15.0,15.4,16.1,16.6,17.5,18.3,18.0,17.2,16.5,15.8,15.0,15.3,15.2,15.2,15.4,
                                              15.1,15.0,14.8,14.7,14.4,14.1,13.7,13.6,13.5,14.1,15.3,16.5,17.3,17.0,16.8,16.5,16.0,15.2,14.5,13.9,13.6,13.3,12.8,12.4,
                                              12.6,12.5,12.3,12.1,11.9,11.7,11.5,11.2,11.7,13.3,15.2,16.6,17.3,17.7,17.9,17.6,16.5,15.6,14.8,14.5,14.2,14.3,14.4,14.7,
                                              14.7,14.9,15.1,15.3,15.4,15.5,15.5,15.6,15.6,15.9,16.7,17.6,18.6,18.7,18.5,18.0,17.5,16.9,16.2,15.9,15.6,15.3,15.1,15.0,
                                              14.8,14.7,14.6,14.5,14.1,13.7,13.5,13.6,14.0,15.0,16.4,18.2,20.1,20.7,20.9,20.7,19.8,18.5,17.2,16.3,16.1,16.0,16.1,16.3,
                                              16.4,16.3,16.1,15.9,15.8,15.8,15.9,16.2,16.6,17.3,17.8,18.5,19.0,19.1,19.1,18.7,18.0,17.1,16.2,15.8,15.6,15.5,15.5,15.5
                                            ]
}
                                      }";*/